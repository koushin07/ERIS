import{H as k,B as H,m as b,U as h,l as C,b as a,f as p,g as y,F as x,R as B,r as u,o as r,d as e,q as w,t as s}from"./app.8f761c41.js";import{L as P}from"./MunicipalityLayout.f73087f0.js";import{C as $}from"./ContentBox.cc59c672.js";import{_ as A}from"./PersonalModal.d5351aad.js";import{_ as M}from"./QuantityModal.b45b06f4.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";import"./PendingTransactions.d992f2e3.js";import"./Dropdown.65581d49.js";import"./eprris.ccf75d97.js";import"./dialog.9bd92eb8.js";import"./transition.2da8e22a.js";const R={layout:P,components:{ContentBox:$,Head:k,PersonalModal:A,QuantityModal:M},props:{notifications:Array},setup(){H({quantity:0,equipment:"",borrower:"",borrower_id:"",detail_id:"",personel:"",incident:""}),b.on("refresh-approvals",()=>{h.Inertia.reload({only:["notifications"]})});const{notification:c,count:d}=C();return{fullname:(n,o,l,m)=>{const t=n||"",_=o||"",g=l?l.charAt(0):"";return`${_} ${g} ${t} ${m||""}`},notification:c,count:d,accept:(n,o)=>{console.log(o),B.post("/api/accepted/"+o.eb_id,{quantity:n.value}).then(l=>{c(),h.Inertia.reload({only:["notifications"]})}),b.emit("badge")},deny:async(n,o)=>{console.log("inside"),console.log(n,o)},tableHeader:[{name:"incident"},{name:"equipment"},{name:"municipality"},{name:"quantity"},{name:"Personel"},{name:"contact"},{name:"address"},{name:"action"}]}}},S={class:"flex flex-col col-span-2 overflow-hidden h-full"},F={key:0,class:"text-lg font-semibold font-sans text-center"},L={key:1,class:"text-lg font-semibold font-sans text-center"},Q={class:"flex flex-col justify-between overflow-y-auto border-x border-b border-orange-200 space-y-2 scrollbar"},j={class:"table-auto w-full text-sm border-x text-gray-500 dark:text-gray-400"},D={class:"text-xs text-gray-700 text-center uppercase bg-orange-300 dark:bg-gray-700 dark:text-gray-400"},E={class:"max-h-full even:bg-orange-200 bg-white border-b dark:bg-gray-800 dark:border-gray-700"},I={scope:"row",class:"text-center p-2"},V={scope:"row",class:"text-center p-2"},T={class:"text-center p-2"},U={class:"text-center p-2"},z={class:"text-center p-2"},G={class:"text-center p-2"},J={class:"text-center p-2"},K={class:"text-center"},O={class:"flex flex-row justify-center"},W=e("button",{class:"text-sm hover:bg-green-600 mx-2 text-center bg-green-500 px-2 rounded text-white tracking-wide"}," Accept ",-1);function X(c,d,f,i,q,v){const n=u("Head"),o=u("Quantity-modal"),l=u("PersonalModal"),m=u("Content-box");return r(),a(x,null,[p(n,{title:"Tansaction"}),p(m,null,{default:y(()=>[e("div",S,[f.notifications.length===0?(r(),a("span",F,"No Equipment Request Recieve")):(r(),a("span",L,"Requests")),e("div",Q,[e("table",j,[e("thead",D,[e("tr",null,[(r(!0),a(x,null,w(i.tableHeader,(t,_)=>(r(),a("th",{scope:"col",class:"py-3 px-6",key:_},s(t.name),1))),128))])]),e("tbody",null,[(r(!0),a(x,null,w(f.notifications,(t,_)=>(r(),a("tr",E,[e("td",I,s(t.incident),1),e("td",V,s(t.equipment),1),e("td",T,s(t.municipality),1),e("td",U,s(t.quantity),1),e("td",z,s(i.fullname(t.borrower_firstname,t.borrower_lastname,t.borrower_middlename,t.borrower_suffix)),1),e("td",G,s(t.contact),1),e("td",J,s(t.address),1),e("td",K,[e("div",O,[p(o,{muni:t,onSubmit:i.accept},{trigger:y(()=>[W]),_:2},1032,["muni","onSubmit"]),p(l,{equipment_borrow:t.eb_id,name:"Decline",onSubmit:d[0]||(d[0]=g=>i.deny(c.id,c.reason))},null,8,["equipment_borrow"])])])]))),256))])])])])]),_:1})],64)}const dt=N(R,[["render",X]]);export{dt as default};
