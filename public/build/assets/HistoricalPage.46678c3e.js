import{A as I}from"./AdminLayout.adcac2e0.js";import{C}from"./ContentBox.cc59c672.js";import{_ as S}from"./Modal.4490caaf.js";import{h as k}from"./moment.9709ab41.js";import{H as B,a as f,h as v,D as y,b as s,f as b,d as t,F as g,q as w,r as H,o as n,t as i,U as M,k as j,v as D,x as P}from"./app.8f761c41.js";import{_ as F}from"./EditHistory.9bd825ef.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Dropdown.65581d49.js";import"./eprris.ccf75d97.js";import"./dialog.9bd92eb8.js";import"./transition.2da8e22a.js";const A={layout:I,components:{Head:B,ContentBox:C,moment:k,Modal:S,EditHistory:F},props:{histories:Object,filters:[Array,Object]},setup({filters:c,histories:u}){const d=f(!0),_=v(()=>Object.values(u).map(r=>r.reduce((a,h)=>a+h.returned,0)).reduce((r,a)=>r+a,0)),x=v(()=>Object.values(u).map(r=>r.reduce((a,h)=>a+h.quantity,0)).reduce((r,a)=>r+a,0)),p=f(c.search),l=f(0),m=[{name:"Incident"},{name:"From"},{name:"To"},{name:"Date"},{name:"sit. rep."}],e=async()=>{l.value=l.value+10};return y(l,o=>{M.Inertia.get(j().url.value,{load:o},{preserveState:!0})}),y(p,o=>{M.Inertia.get(j().url.value,{search:o},{preserveState:!0})}),{totalReturned:_,moment:k,search:p,loadMore:e,totalQuantity:x,update:d,localHeader:m}}},N=c=>(D("data-v-22a873dc"),c=c(),P(),c),q={class:"flex flex-col pt-6"},z={class:"table-auto w-full text-sm border-x-2 border-b-2 border-orange-200 text-gray-500 dark:text-gray-400"},E={class:"text-xs text-stone-900 text-center uppercase bg-orange-400 dark:bg-gray-700 dark:text-gray-400"},L={class:"flex flex-row justify-center py-1"},V={class:"max-h-full even:bg-orange-200 bg-white border-b dark:bg-gray-800 dark:border-gray-700"},$={scope:"row",class:"text-center p-4"},Q={class:"text-center"},R={class:"text-center"},T={class:"text-center"},U={key:0,class:"text-center"},Y=["href"],G=N(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),J=[G],K={key:1,class:"text-center"},W={class:"bg-white"};function X(c,u,d,_,x,p){const l=H("Head"),m=H("Pagination");return n(),s(g,null,[b(l,{title:"History"}),t("div",q,[t("table",z,[t("thead",E,[t("tr",null,[(n(!0),s(g,null,w(_.localHeader,(e,o)=>(n(),s("th",{scope:"col",class:"py-3 px-6",key:o},[t("div",L,[t("span",null,i(e.name),1)])]))),128))])]),t("tbody",null,[(n(!0),s(g,null,w(d.histories.data,(e,o)=>(n(),s("tr",V,[t("td",$,i(e.incident),1),t("td",Q,i(e.borrower),1),t("td",R,i(e.owner),1),t("td",T,i(_.moment(e.created_at).format("MMMM DD Y")),1),e.filename?(n(),s("td",U,[t("a",{href:"/report/"+e.id,type:"button",target:"_blank",class:"mr-4 font-medium text-green-600 dark:text-orange-500 hover:underline"},J,8,Y)])):(n(),s("td",K," Nothing Found "))]))),256))])]),t("div",W,[b(m,{links:d.histories.links},null,8,["links"])])])],64)}const dt=O(A,[["render",X],["__scopeId","data-v-22a873dc"]]);export{dt as default};
